webpackJsonp([1],{"1uuo":function(e,t){},"2O1i":function(e,t){},D9tT:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("7+uW"),a=s("mvHQ"),n=s.n(a),i=s("woOf"),o=s.n(i),u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"dialog-wrapper"},[s("div",{staticClass:"dialog"},[s("header",[s("span",[e._v(e._s(e.title))]),e._v(" "),s("i",{staticClass:"close el-icon-close",on:{click:e.close}})]),e._v(" "),s("main",[e._t("default")],2)])])},staticRenderFns:[]};var c=s("VU/8")({name:"Dialog",props:["visible","title"],methods:{close:function(){this.$emit("close")}}},u,!1,function(e){s("VPaf")},null,null).exports,l=s("JnRc"),v=s.n(l);v.a.init({appId:"fubRKob5ombKpfC0jqcYo4d5-gzGzoHsz",appKey:"LL25S9QYDBzrNtUAqPwbpawD"});var m=v.a,d={202:"用户名已被占用",203:"电子邮箱地址已经被占用",204:"没有提供电子邮箱地址",205:"找不到电子邮箱地址对应的用户",210:"用户名和密码不匹配",211:"找不到用户",217:"无效的用户名，不允许空白用户名",218:"无效的密码，不允许空白密码",unknown:"请求失败，请稍后再试"},p=function(e){return d[e]||d.unknown},f=function(e){var t=e||m.User.current()||{attributes:{}},s=t.id,r=t.attributes.username;return{id:s||"",username:r||""}},_={name:"SignUpForm",data:function(){return{errorMessage:"",formData:{username:"",password:""}}},methods:{signUp:function(){var e=this,t=this.formData,s=t.username,r=t.password,a=new m.User;a.setUsername(s),a.setPassword(r),a.signUp().then(function(t){e.$emit("success",f())},function(t){e.errorMessage=p(t.code)})}}},h={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("form",{staticClass:"signup",on:{submit:function(t){return t.preventDefault(),e.signUp(t)}}},[s("label",[e._v("用户名 ")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.username,expression:"formData.username"}],attrs:{type:"text",required:"",autocomplete:"off"},domProps:{value:e.formData.username},on:{input:function(t){t.target.composing||e.$set(e.formData,"username",t.target.value)}}}),e._v(" "),s("label",[e._v("密码")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{type:"password",required:"",autocomplete:"off"},domProps:{value:e.formData.password},on:{input:function(t){t.target.composing||e.$set(e.formData,"password",t.target.value)}}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.errorMessage,expression:"errorMessage"}],staticClass:"error"},[s("i",{staticClass:"el-icon-error"}),e._v(" "),s("span",[e._v(e._s(e.errorMessage))])]),e._v(" "),s("input",{attrs:{type:"submit",value:"注册"}})])])},staticRenderFns:[]};var w={name:"SignInForm",data:function(){return{errorMessage:"",formData:{username:"",password:""}}},methods:{signIn:function(){var e=this;m.User.logIn(this.formData.username,this.formData.password).then(function(){e.$emit("success",f())},function(t){e.errorMessage=p(t.code)})}}},g={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("form",{staticClass:"signin",on:{submit:function(t){return t.preventDefault(),e.signIn(t)}}},[s("label",[e._v("用户名")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.username,expression:"formData.username"}],attrs:{type:"text",required:"",autocomplete:"on"},domProps:{value:e.formData.username},on:{input:function(t){t.target.composing||e.$set(e.formData,"username",t.target.value)}}}),e._v(" "),s("label",[e._v("密码")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{type:"password",required:"",autocomplete:"on"},domProps:{value:e.formData.password},on:{input:function(t){t.target.composing||e.$set(e.formData,"password",t.target.value)}}}),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.errorMessage,expression:"errorMessage"}],staticClass:"error"},[s("i",{staticClass:"el-icon-error"}),e._v(" "),s("span",[e._v(e._s(e.errorMessage))])]),e._v(" "),s("input",{attrs:{type:"submit",value:"登录"}})])])},staticRenderFns:[]};var b={name:"TopBar",components:{Dialog:c,SignUpForm:s("VU/8")(_,h,!1,function(e){s("2O1i")},"data-v-71a4c4d3",null).exports,SignInForm:s("VU/8")(w,g,!1,function(e){s("b0CO")},"data-v-dd8a12b6",null).exports},data:function(){return{signUpDialogVisible:!1,signInDialogVisible:!1}},computed:{user:function(){return this.$store.state.user},logined:function(){return this.$store.state.user.id},dataSaved:function(){return this.$store.state.dataSaved}},methods:{signIn:function(e){this.signUpDialogVisible=!1,this.signInDialogVisible=!1,this.$store.commit("setUser",e),e.id&&this.$store.dispatch("fetchResume")},preview:function(){this.$emit("preview")},save:function(){this.$store.dispatch("createOrUpdateResume")},exit:function(){var e=this;this.dataSaved?(m.User.logOut(),this.$store.commit("removeUser")):this.$confirm("未保存数据将会丢失, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){m.User.logOut(),e.$store.commit("removeUser")}).catch(function(){e.$message({type:"info",message:"已取消退出"})})}}},k={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"topbar"}},[s("div",{staticClass:"logo"},[e._v("\n    Resume Editor\n  ")]),e._v(" "),s("div",{staticClass:"actions"},[e.logined?s("div",[s("span",{staticClass:"welcome"},[e._v("你好， "+e._s(e.user.username))]),e._v(" "),s("el-button",{attrs:{type:"danger"},on:{click:e.exit}},[e._v("退出登录")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1):s("div",[s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.signUpDialogVisible=!0}}},[e._v("注册")]),e._v(" "),s("el-button",{attrs:{type:"success"},on:{click:function(t){e.signInDialogVisible=!0}}},[e._v("登录")])],1),e._v(" "),s("el-button",{staticClass:"preview-btn",on:{click:e.preview}},[e._v("预览 ")])],1),e._v(" "),s("Dialog",{attrs:{title:"注册",visible:e.signUpDialogVisible},on:{close:function(t){e.signUpDialogVisible=!1}}},[s("SignUpForm",{on:{success:function(t){e.signIn(t)}}})],1),e._v(" "),s("Dialog",{attrs:{title:"登录",visible:e.signInDialogVisible},on:{close:function(t){e.signInDialogVisible=!1}}},[s("SignInForm",{on:{success:function(t){e.signIn(t)}}})],1)],1)},staticRenderFns:[]};var x=s("VU/8")(b,k,!1,function(e){s("kidY")},"data-v-6d690399",null).exports,j={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"editor"}},[s("nav",[s("ol",e._l(e.resume.config,function(t,r){return s("li",{class:{active:t.title===e.selected},on:{click:function(s){e.selected=t.title}}},[s("svg",{staticClass:"icon"},[s("use",{attrs:{"xlink:href":"#icon-"+t.icon}})])])}))]),e._v(" "),s("ol",{staticClass:"panels"},e._l(e.resume.config,function(t,r){return s("li",{directives:[{name:"show",rawName:"v-show",value:t.title===e.selected,expression:"item.title===selected"}]},[e.resume[t.title]instanceof Array?s("div",[s("h2",[e._v(" "+e._s(e.titles[t.title])+" ")]),e._v(" "),e._l(e.resume[t.title],function(r,a){return s("div",{staticClass:"container"},[e._l(r,function(r,n){return s("div",[s("label",[e._v(e._s(e.labels[n]||n))]),e._v(" "),s("div","projectIntro"===n||"content"===n?[s("textarea",{attrs:{rows:"4"},domProps:{value:r},on:{input:function(s){e.updateContent(t.title+"."+a+"."+n,s.target.value)}}})]:[s("input",{attrs:{type:"text"},domProps:{value:r},on:{input:function(s){e.updateContent(t.title+"."+a+"."+n,s.target.value)}}})])])}),e._v(" "),s("i",{staticClass:"el-icon-delete",on:{click:function(s){e.removeItem(t.title,a)}}}),e._v(" "),s("hr")],2)}),e._v(" "),s("a",{staticClass:"add",attrs:{href:"#"},on:{click:function(s){e.addItem(t.title)}}},[s("svg",{staticClass:"icon"},[s("use",{attrs:{"xlink:href":"#icon-add"}})])])],2):s("div",[s("h2",[e._v(" "+e._s(e.titles[t.title]))]),e._v(" "),e._l(e.resume[t.title],function(r,a){return s("div",[s("label",[e._v(" "+e._s(e.labels[a]||a)+" ")]),e._v(" "),s("input",{attrs:{type:"text"},domProps:{value:r},on:{input:function(s){e.updateContent(t.title+"."+a,s.target.value)}}})])})],2)])}))])},staticRenderFns:[]};var C=s("VU/8")({name:"Editor",computed:{selected:{get:function(){return this.$store.state.selected},set:function(e){return this.$store.commit("switchTab",e)}},resume:function(){return this.$store.state.resume},labels:function(){return this.$store.state.labels},titles:function(){return this.$store.state.titles}},methods:{updateContent:function(e,t){this.$store.commit("updateContent",{path:e,value:t})},addItem:function(e){this.$store.commit("addItem",e)},removeItem:function(e,t){var s=this;this.$confirm("此操作不可恢复, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){s.$store.commit("removeItem",{path:e,index:t}),s.$message({type:"success",message:"删除成功!"})}).catch(function(){s.$message({type:"info",message:"已取消删除"})})}}},j,!1,function(e){s("abRA")},"data-v-194c5642",null).exports,y={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"preview"}},[e._t("default"),e._v(" "),s("section",{directives:[{name:"show",rawName:"v-show",value:e.resume.profile,expression:"resume.profile"}],attrs:{"data-name":"profile"}},[s("h2",[e._v(" 基本信息  ")]),e._v(" "),s("ul",[s("li",[e._v(" 姓名 ： "+e._s(e.resume.profile.name)+" ")]),e._v(" "),s("li",[e._v(" 求职意向："+e._s(e.resume.profile.jobIntention)+" ")]),e._v(" "),s("li",[e._v(" 学历 ： "+e._s(e.resume.profile.degree)+" ")]),e._v(" "),s("li",[e._v(" 地址： "+e._s(e.resume.profile.address)+" ")]),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:e.resume.profile.GitHub,expression:"resume.profile.GitHub"}]},[e._v("\n        GitHub ： "+e._s(e.resume.profile.GitHub)+"\n      ")]),e._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:e.resume.profile.blog,expression:"resume.profile.blog"}]},[e._v("\n        博客： "+e._s(e.resume.profile.blog)+"\n      ")])])]),e._v(" "),s("section",{directives:[{name:"show",rawName:"v-show",value:e.resume.education,expression:"resume.education"}],attrs:{"data-name":"education"}},[s("h2",[e._v(" 教育背景 ")]),e._v(" "),e._l(e.resume.education,function(t,r){return s("p",{key:r},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.duration,expression:"item.duration"}]},[e._v(e._s(t.duration)+"  ")]),e._v(" "),s("span",[e._v(e._s(t.school)+"  ")]),e._v(" "),s("span",[e._v(e._s(t.major)+"  ")])])})],2),e._v(" "),s("section",{directives:[{name:"show",rawName:"v-show",value:e.resume.project,expression:"resume.project"}],attrs:{"data-name":"project"}},[s("h2",[e._v(" 项目经历 ")]),e._v(" "),e._l(e.resume.project,function(t,r){return s("div",{key:r},[s("h4",[e._v(e._s(t.projectName))]),e._v(" "),s("p",[e._v(e._s(t.projectIntro))])])})],2),e._v(" "),s("section",{directives:[{name:"show",rawName:"v-show",value:e.resume.workHistory,expression:"resume.workHistory"}],attrs:{"data-name":"workHistory"}},[s("h2",[e._v(" 工作经历 ")]),e._v(" "),e._l(e.resume.workHistory,function(t,r){return s("div",{key:r},[s("h4",[s("span",[e._v(e._s(t.duration))]),e._v(" "),s("span",[e._v(e._s(t.company))]),e._v(" "),s("span",[e._v(e._s(t.job))])]),e._v(" "),s("p",[e._v(" "+e._s(t.content)+" ")])])})],2),e._v(" "),s("section",{directives:[{name:"show",rawName:"v-show",value:e.resume.skill,expression:"resume.skill"}],attrs:{"data-name":"skill"}},[s("h2",[e._v(" 技能 ")]),e._v(" "),e._l(e.resume.skill,function(t){return s("ul",[s("li",[e._v("\n        "+e._s(t.skillName)+"\n      ")])])})],2),e._v(" "),s("section",{directives:[{name:"show",rawName:"v-show",value:e.resume.contact,expression:"resume.contact"}],attrs:{"data-name":"contact"}},[s("h2",[e._v(" 联系方式  ")]),e._v(" "),s("ul",[s("li",[e._v("电话： "+e._s(e.resume.contact.Phone))]),e._v(" "),s("li",[e._v("微信： "+e._s(e.resume.contact.WeChat))]),e._v(" "),s("li",[e._v(" QQ： "+e._s(e.resume.contact.QQ))]),e._v(" "),s("li",[e._v("邮箱："+e._s(e.resume.contact.eMail))])])])],2)},staticRenderFns:[]};var D=s("VU/8")({computed:{resume:function(){return this.$store.state.resume}}},y,!1,function(e){s("D9tT")},"data-v-7b5ec62c",null).exports,$=s("fZjL"),N=s.n($),I=s("NYxO"),U=s("SeUI"),S=s.n(U);r.default.use(I.a);var R={name:"App",store:new I.a.Store({state:{user:{username:"",password:"",id:""},dataSaved:!0,saveSuccess:!1,saveError:!1,selected:"profile",titles:{profile:"基本信息",education:"教育背景",project:"项目经历",workHistory:"工作经历",skill:"技能",contact:"联系方式"},labels:{name:"姓名",address:"地址",degree:"学历",jobIntention:"求职意向",GitHub:"GitHub",blog:"博客",duration:"时间",school:"学校",major:"专业",projectName:"项目名称",projectIntro:"项目介绍",company:"公司",content:"工作内容",skillName:"技能",QQ:"QQ",WeChat:"微信",Phone:"联系电话",eMail:"邮箱"},resume:{config:[{title:"profile",icon:"profile"},{title:"education",icon:"education"},{title:"project",icon:"project"},{title:"workHistory",icon:"workHistory"},{title:"skill",icon:"skill"},{title:"contact",icon:"contact"}],profile:{name:"",address:"",degree:"",jobIntention:"",GitHub:"",blog:""},education:[{duration:"",school:"",major:""}],project:[{projectName:"",projectIntro:""}],workHistory:[{duration:"",company:"",job:"",content:""},{duration:"",company:"",job:"",content:""}],skill:[{skillName:""}],contact:{QQ:"",WeChat:"",Phone:"",eMail:""}}},mutations:{setUser:function(e,t){o()(e.user,t)},removeUser:function(e){e.user.id="",e.dataSaved=!0,e.resume={config:[{title:"profile",icon:"profile"},{title:"education",icon:"education"},{title:"project",icon:"project"},{title:"workHistory",icon:"workHistory"},{title:"skill",icon:"skill"},{title:"contact",icon:"contact"}],profile:{name:"",address:"",degree:"",jobIntention:"",GitHub:"",blog:""},education:[{duration:"",school:"",major:""}],project:[{projectName:"",projectIntro:""}],workHistory:[{duration:"",company:"",job:"",content:""},{duration:"",company:"",job:"",content:""}],skill:[{skillName:""}],contact:{QQ:"",WeChat:"",Phone:"",eMail:""}}},setResume:function(e,t){var s=t.id,r=t.resume;e.resume.id=s,o()(e.resume,r)},switchTab:function(e,t){e.selected=t},updateContent:function(e,t){var s=t.path,r=t.value;S.a.set(e.resume,s,r),e.dataSaved=!1},addItem:function(e,t){var s={};N()(e.resume[t][0]).map(function(e){return s[e]=""}),e.resume[t].push(s)},removeItem:function(e,t){var s=t.path,r=t.index;e.resume[s].splice(r,1)}},actions:{createResume:function(e){var t=e.state,s=e.commit,r=e.dispatch,a=n()(t.resume),i=new(m.Object.extend("Resume"));i.set("resume",a);var o=new m.ACL;o.setReadAccess(m.User.current(),!0),o.setWriteAccess(m.User.current(),!0),i.setACL(o),i.save().then(function(e){t.dataSaved=!0;var a=JSON.parse(e.attributes.resume),n=resumes.id;s("setResume",{id:n,resumeData:a}),r("saveSuccess")},function(){return r("saveError")})},updateResume:function(e){var t=e.state,s=e.commit,r=e.dispatch,a=m.Object.createWithoutData("Resume",t.resume.id),i=n()(t.resume);a.set("resume",i),a.save().then(function(e){t.dataSaved=!0;var a=JSON.parse(e.attributes.resume),n=e.id;s("setResume",{id:n,resumeData:a}),r("saveSuccess")},function(){return r("saveError")})},createOrUpdateResume:function(e){var t=e.dispatch;t(e.state.resume.id?"updateResume":"createResume")},fetchResume:function(e){e.state;var t=e.commit;new m.Query("Resume").find().then(function(e){if(e){var s=JSON.parse(e[0].attributes.resume),r=e[0].id;t("setResume",{id:r,resume:s})}},function(){return dispatch("saveError")})},saveSuccess:function(e){var t=e.state;t.saveSuccess=!0,setTimeout(function(){return t.saveSuccess=!1},2e3)},saveError:function(e){var t=e.state;t.saveError=!0,setTimeout(function(){return t.saveError=!1},2e3)}}}),components:{TopBar:x,Editor:C,Preview:D},data:function(){return{previewMode:!1}},created:function(){var e=this;localStorage.getItem("state")&&this.$store.replaceState(o()(this.$store.state,JSON.parse(localStorage.getItem("state")))),window.addEventListener("beforeunload",function(){localStorage.setItem("state",n()(e.$store.state))})},computed:{saveSuccess:function(){return this.$store.state.saveSuccess},saveError:function(){return this.$store.state.saveError}},methods:{preview:function(){this.previewMode=!0},exitPreview:function(){this.previewMode=!1}}},M={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{previewMode:e.previewMode},attrs:{id:"app"}},[s("div",{staticClass:"page"},[s("TopBar",{directives:[{name:"show",rawName:"v-show",value:!1===e.previewMode,expression:"previewMode === false"}],staticClass:"topbar",on:{preview:e.preview}}),e._v(" "),s("main",[s("Editor",{directives:[{name:"show",rawName:"v-show",value:!1===e.previewMode,expression:"previewMode === false"}],staticClass:"editor"}),e._v(" "),s("Preview",{staticClass:"preview",attrs:{previewMode:e.previewMode},on:{exitPreview:e.exitPreview}},[s("el-button",{directives:[{name:"show",rawName:"v-show",value:!0===e.previewMode,expression:"previewMode === true"}],staticClass:"exitPreview",attrs:{type:"danger"},on:{click:e.exitPreview}},[e._v("退出预览\n        ")])],1)],1),e._v(" "),s("div",{staticClass:" save-alerts"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.saveSuccess,expression:"saveSuccess"}],staticClass:"success"},[s("i",{staticClass:"el-icon-success"}),e._v(" "),s("span",[e._v("保存成功")])]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.saveError,expression:"saveError"}],staticClass:"error"},[s("i",{staticClass:"el-icon-error"}),e._v(" "),s("span",[e._v("更新数据失败，请重试")])])])],1)])},staticRenderFns:[]};var E=s("VU/8")(R,M,!1,function(e){s("eBpN")},null,null).exports,H=s("/ocq"),P={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"hello"},[s("h1",[e._v(e._s(e.msg))]),e._v(" "),s("h2",[e._v("Essential Links")]),e._v(" "),e._m(0),e._v(" "),s("h2",[e._v("Ecosystem")]),e._v(" "),e._m(1)])},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ul",[s("li",[s("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("\n        Core Docs\n      ")])]),e._v(" "),s("li",[s("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[e._v("\n        Forum\n      ")])]),e._v(" "),s("li",[s("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[e._v("\n        Community Chat\n      ")])]),e._v(" "),s("li",[s("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[e._v("\n        Twitter\n      ")])]),e._v(" "),s("br"),e._v(" "),s("li",[s("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[e._v("\n        Docs for This Template\n      ")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[t("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};var V=s("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},P,!1,function(e){s("1uuo")},"data-v-d8ec41bc",null).exports;r.default.use(H.a);var O=new H.a({routes:[{path:"/",name:"HelloWorld",component:V}]}),T=(s("uMhA"),s("NcP2"),s("zL8q")),F=s.n(T);s("tvR6");r.default.use(F.a),r.default.config.productionTip=!1,new r.default({el:"#app",router:O,components:{App:E},template:"<App/>"})},NcP2:function(e,t){},VPaf:function(e,t){},abRA:function(e,t){},b0CO:function(e,t){},eBpN:function(e,t){},kidY:function(e,t){},tvR6:function(e,t){},uMhA:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.477092ffa225d9f0c860.js.map